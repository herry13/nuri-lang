{"type":"parallel","version":2,"actions":[{"name":"service1.start","parameters":{},"cost":1,"conditions":{"client1.refer":"$service2","client2.refer":"$service2","service1.state":"$State.stopped","service2.state":"$State.running"},"effects":{"service1.state":"$State.running"},"before":[],"after":[1,2,3]},{"name":"client2.redirect","parameters":{"s":"$service1"},"cost":1,"conditions":{"service1.state":"$State.running"},"effects":{"client2.refer":"$service1"},"before":[0],"after":[3]},{"name":"client1.redirect","parameters":{"s":"$service1"},"cost":1,"conditions":{"service1.state":"$State.running"},"effects":{"client1.refer":"$service1"},"before":[0],"after":[3]},{"name":"service2.stop","parameters":{},"cost":1,"conditions":{"client1.refer":"$service1","client2.refer":"$service1","service1.state":"$State.running","service2.state":"$State.running"},"effects":{"service2.state":"$State.stopped"},"before":[0,1,2],"after":[]}]}
